{% extends "base.html" %}

{% block title %}
Edit Patient
{% endblock title %}

{% block content %}
<!-- Custom CSS Styles -->
<style>
  .btn {
    border-radius: 30px;
    padding: 0.5rem 1.5rem;
  }

  .btn-outline-primary {
    border-color: #007bff;
    color: #007bff;
    padding:10px;
  }

  .btn-outline-primary:hover {
    background-color: #007bff;
    color: #fff;
  }

  .btn-outline-secondary {
    border-color: #6c757d;
    color: #6c757d;
  }

  .btn-outline-secondary:hover {
    background-color: #6c757d;
    color: #fff;
  }

  .form-container {
    background-color: #f8f9fa;
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    max-width: 600px; /* Set a maximum width */
  }

  .form-container input, .form-container select, .form-container textarea {
    margin-bottom: 15px;
  }

  .form-container label {
    font-weight: 500;
  }

  .btn-outline-warning {
    margin-top: 20px;
  }
</style>

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="form-container shadow-sm">
        <h5 class="text-success mb-3">Update Patient Information</h5>

        {% with messages = get_flashed_messages(with_categories=True) %}
        {% if messages %}
            <div class="container mt-3">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        {% endwith %}

        <form method="POST" action="{{ url_for('edit', pid=patient['pid']) }}">
          <div class="form-group">
            <label for="patientEmail">Email Address</label>
            <input type="email" class="form-control" id="patientEmail" name="email" placeholder="Enter your email" value="{{ patient['email'] }}" required>
          </div>

          <div class="form-group">
            <label for="patientName">Full Name</label>
            <input type="text" class="form-control" id="patientName" name="name" placeholder="Enter your full name" value="{{ patient['name'] }}" required>
          </div>

          <div class="form-group">
            <label for="appointmentDate">Appointment Date</label>
            <input type="date" class="form-control" name="appointment_date" id="appointmentDate" value="{{ patient['appointment_date'] }}" required>
          </div>

          <div class="form-group">
            <label for="appointmentTime">Select Appointment Time</label>
            <input type="time" class="form-control" name="appointment_time" id="appointmentTime" value="{{ patient['appointment_time'] }}" required>
          </div>

          <div class="form-group">
            <label for="gender">Gender</label>
            <select class="form-control" id="gender" name="gender" required>
              <option value="" disabled>Select a Gender</option>
              <option value="Male" {% if patient['gender'] == 'Male' %}selected{% endif %}>Male</option>
              <option value="Female" {% if patient['gender'] == 'Female' %}selected{% endif %}>Female</option>
              <option value="Others" {% if patient['gender'] == 'Others' %}selected{% endif %}>Others</option>
            </select>
          </div>

          <div class="form-group">
            <label for="doctorSelect">Select Doctor</label>
            <select class="form-control" id="doctorSelect" name="doctor" required>
              <option value="" disabled>Select a doctor</option>
              <option value="Dr. Jane Smith (Dermatologist)">Dr. Jane Smith (Dermatologist)</option>
                    <option value="Dr. Emily Brown (Pediatrician)">Dr. Emily Brown (Pediatrician)</option>
                    <option value="Dr. Rakesh Sharma (Cardiologist)">Dr. Rakesh Sharma (Cardiologist)</option>
                    <option value="Dr. Neha Gupta (Dermatologist)">Dr. Neha Gupta (Dermatologist)</option>
                    <option value="Dr. Suresh Patel (Pediatrician)">Dr. Suresh Patel (Pediatrician)</option>
                    <option value="Dr. Priya Kapoor (Gynecologist)">Dr. Priya Kapoor (Gynecologist)</option>
                    <option value="Dr. Anjali Verma (Oncologist)">Dr. Anjali Verma (Oncologist)</option>
                    <option value="Dr. Rajesh Khanna (Orthopedic Surgeon)">Dr. Rajesh Khanna (Orthopedic Surgeon)</option>
                    <option value="Dr. Pooja Agarwal (Neurologist)">Dr. Pooja Agarwal (Neurologist)</option>
                    <option value="Dr. Vikram Rao (Gastroenterologist)">Dr. Vikram Rao (Gastroenterologist)</option>
                    <option value="Dr. Shalini Nair (Ophthalmologist)">Dr. Shalini Nair (Ophthalmologist)</option>
                    <option value="Dr. Manish Malhotra (Plastic Surgeon)">Dr. Manish Malhotra (Plastic Surgeon)</option>
            </select>
          </div>

          <div class="form-group">
            <label for="slot">Slot</label>
            <select class="form-control" id="slot" name="slot" required>
              <option value="" disabled>Select a Slot</option>
              <option value="Morning" {% if patient['slot'] == 'Morning' %}selected{% endif %}>Morning</option>
              <option value="Evening" {% if patient['slot'] == 'Evening' %}selected{% endif %}>Evening</option>
              <option value="Night" {% if patient['slot'] == 'Night' %}selected{% endif %}>Night</option>
            </select>
          </div>

          <div class="form-group">
            <label for="phone_number">Phone Number</label>
            <input type="text" class="form-control" id="phone_number" name="phone_number" placeholder="Phone Number" value="{{ patient['phone_number'] }}" required>
          </div>

          <div class="form-group">
            <label for="additionalNotes">Additional Notes</label>
            <textarea class="form-control" id="additionalNotes" rows="3" name="additional_notes" placeholder="Any additional notes (optional)">{{ patient['additional_notes'] }}</textarea>
          </div>

          <button type="submit" class="btn btn-outline-warning btn-block">Update Information</button>
        </form>
      </div>
    </div>
  </div>
</div>

{% endblock content %}
